<p align="center">
<h1 align="center">Senza - SDK</h1>
<p align="center">

# Installation

### Step 1:

Create a file called .npmrc / .yarnrc in your project and add the below line.

`"@ip-synamedia:registry=https://artifactory01.engit.synamedia.com/artifactory/api/npm/spvss-cloud-ci-npm/"`

### Step 2:

This library can be installed using npm/yarn with the below commands.

- npm:  `npm install @ip-synamedia/hs-sdk --save`
- yarn: `yarn add @ip-synamedia/hs-sdk`

# Usage

Import and use required logic. 

# Local Usage and Debugging

You can point your importing project to use your local code of this repo by creating an NPM link :
1. In this root of this project run:
first install dependencies
```bash
npm install OR yarn
```


```bash
npm link
```
OR
```bash
yarn link
```

Then in your importing project who uses this repo run:
```bash
npm link @ip-synamedia/hs-sdk
```
OR
```bash
yarn link "@ip-synamedia/hs-sdk"
```
It will now use the code on your local machine.

```
import { init } from '@ip-synamedia/hs-sdk/dist/api';

init();
```

# Contribute to the Library

### Step 1:

Navigate to `src/`

### Step 2:

Contribute your code  

### Step 3:

Navigate to `src/api.js` and export your contribution (if needed)

### Step 4:

Upgrade version in `package.json` and `package-lock.json`

### Step 5:

Add the new version to `CHANGELOG.md`. Make sure to follow the existing format (as described in [KeepAChangeLog](https://keepachangelog.com/en/1.0.0/)).

# Create docs
Edit jsdocs in the relevant file and then run the following command for the updated file:
```bash
./node_modules/jsdoc-to-markdown/bin/cli.js src/remotePlayer.js
./node_modules/jsdoc-to-markdown/bin/cli.js src/api.js
```
Copy the output of jsdoc-to-markdown (from standard output) and paste it in the relevant page under https://dash.readme.com/project/hyperscale/v1.0/docs/web-app-changes
(replace the content starting from ## Modules).

<p align="center">
<h1 align="center">SampleApp - DefaultUI</h1>
<p align="center">

It's /samples/remotePlayer-startPlayback App. This App is used as a default UI App for tenant vending through matisse.

## Senza Client Library Installation

In order to install the Senza Client Library, you first need to generate an access token to github. Follow these steps in order to generate the access token:
1. Sign in to github.com with your personal account (create one if you don't have one).
2. Go to your profile settings --> Developer settings
3. Under 'Personal access tokens' go to 'Tokens (classic)'
4. Go to 'Generate new token (classic)'
5. Check 'read:packages'
6. Generate token
7. Copy token

### Install
Set registery for synamedia namespace
```bash
npm config set @Synamedia:registry https://npm.pkg.github.com
npm config set -- //npm.pkg.github.com/:_authToken <your access token>
```

Install using npm
```bash
npm install @Synamedia/hs-sdk
```

## Build SampleApp - DefaultUI
After Updating the app you should build remotePlayer-startPlayback app according to samples/README.md  

## Upload to S3 bucket 
After build, the folder should be uploaded to S3 prod bucket "streaming-sample-webui".
```bash
aws s3 cp remotePlayer-startPlayback/synamedia-logo-dark.gif s3://streaming-sample-webui/main/
aws s3 cp remotePlayer-startPlayback/dist s3://streaming-sample-webui/main/dist/ --recursive
aws s3 cp remotePlayer-startPlayback/index.html s3://streaming-sample-webui/main/
```

