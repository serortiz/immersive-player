# Changelog

All notable changes to this package are documented in this file.

## [3.19.5] - 2024-05-16

### Added

- Enhance deviceInfo api to return also country code, a 2-letter code as defined in https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2

## [3.19.4] - 2024-05-13

### Fixed

- The API registerVideoElement will be listen to video tag info changes all the time without waiting to load and run.

## [3.19.3] - 2024-05-02

### Fixed

- Adding event to videoTag in order to signal remotePlayer about load events on the localPlayer, this is to support sync of audio in UI

## [3.19.1] - 2024-03-28

### Fixed

- deviceManager.deviceInfo now return correct value.

### Deprecated

- getDeviceInfo() is deprecated, use deviceManager.deviceInfo instead.

## [3.18.2] - 2024-03-20

### Fixed

- Update text and audio tracks when application is loaded after ui release

## [3.18.1] - 2024-03-03

### Added

- New API in `remotePlayer` module - `getPresentationStartTimeAsDate()`. It returns the presentation start time as a date.
It should only be called when the player has loaded a live stream. If the player has not loaded a live stream, it will return null.

## [3.18.0] - 2024-03-03

### Added

- Implemented the `factoryReset` API in the `deviceManager` file, which issues a factory reset command to the device. 
The returned Promise resolves upon receiving device confirmation of a successful reset. 

## [3.17.3] - 2024-02-29

### Added

- Override window.close() since it's not allowed on Senza platform (use lifecycle.exitApplication() instead)

## [3.17.2] - 2024-02-21

### Changed

- Increase test coverage

### Changed

- In logs of remotePlayer load api, change the `url` field to `loadUrl` so that it won't override the application url log field.

## [3.17.0] - 2024-01-21

### Added

- In `remotePlayer` file, added a new `registerVideoElement` API which will cause the `load` and `play` API's 
to request for the video element info

## [3.16.1] - 2024-01-15

### Added

- In `alarmManager.addAlarm` API, a type check was added for the data parameter (must be a string)

## [3.16.0] - 2024-01-02

### Changed

- Move `switchTenant` and `exitApplication` APIs from the main entry point to the lifecycle module

## [3.15.14] - 2024-01-01

### Changed

- Upgrade sdk version in sample apps

## [3.15.13] - 2024-01-01

### Added

- Print remote player error event to console log

## [3.15.12] - 2023-12-31

### Fixed

- Handle error and ended events in sample application remotePlayer-startPlayback

## [3.15.11] - 2023-12-24

### Changed

- Change the keys remotePlayer-startPlayback sample app uses. Instead of using only SELECT to toggle start/stop playback, it now uses SELECT to start and BACK to stop. 

## [3.15.10] - 2023-12-05

### Fixed

- In order to support server side rendering, set parameters to the window object only if defined

## [3.15.8] - 2023-11-08

### Added

- Add clientIp to `getDeviceInfo()` returned object

## [3.15.7] - 2023-11-08

### Changed

- Update sample applications and README 

## [3.15.4] - 2023-11-07

### Added

- A new api `deviceManager.sendDataToDevice(data)`. This api passes the input data to the device.

## [3.15.3] - 2023-10-22

### Changed

- Improvements for better browser compatibility.

## [3.15.2] - 2023-10-19

### Added

- Documentation for remote player error codes

### Changed

- If load() is called while the application is in 'background' state, the sdk now throws error 6002 instead of 23

## [3.15.1] - 2023-10-18

### Changed

- Refactored the codebase to use pure ES6 syntax for better browser compatibility.
  - Removed usage of `require` for module imports. Now using ES6 `import` statements.
  - Replaced `module.exports` with ES6 `export` statements.
  - Code is now bundled into a single file using Webpack, making it easier to import and use in various projects.


## [3.14.8] - 2023-10-15

### Changed

- Load timeout is no longer hard coded 14 seconds, but can be configured in ui-streamer settings and is defaulted to 6 seconds

## [3.14.7] - 2023-10-11

### Fixed

- In case `remotePlayer.load()` failed due to error 99 (i.e. invalid message), keep the load mode and asset uri as they were before the failure.

## [3.14.5] - 2023-09-18

### Added

- `url` field has been added to all sdk logs as part of [log-fields]

## [3.14.3] - 2023-09-06

### Added

- Developer helper module that writes to console log "hints" to the developer. Currently, there is one hint implemented - a reminder to call lifecycle.MoveToForeground() upon getting a keypress/error/ended event when in background state.

## [3.14.2] - 2023-09-04

### Added

- Transfer all hs-sdk logs to the following format:  
  [hs-sdk] \<log message\> [log-fields] \<stringified json of key-value pairs\>
